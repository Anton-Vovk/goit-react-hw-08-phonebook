(this["webpackJsonpgoit-react-hw-08-phonebook"]=this["webpackJsonpgoit-react-hw-08-phonebook"]||[]).push([[0],{106:function(t,e,n){t.exports={form:"ContactForm_form__32-BG",label:"ContactForm_label__23cO1",input:"ContactForm_input__2wi4n",button:"ContactForm_button__P4dJ8"}},108:function(t,e,n){t.exports={listSection:"ContactList_listSection__1hWX9",item:"ContactList_item__2DK1Z",button:"ContactList_button__lsZ82"}},109:function(t,e,n){t.exports={wrapper:"Filter_wrapper__1sdgz",input:"Filter_input__3iYuT",title:"Filter_title__37Qbj"}},110:function(t,e,n){t.exports={container:"PhonebookPage_container__2xr5b",phonebook:"PhonebookPage_phonebook__1iKkJ",contacts:"PhonebookPage_contacts__1hN6n"}},114:function(t,e,n){"use strict";n.r(e),n.d(e,"default",(function(){return q}));var a=n(36),r=n(37),c=n(39),o=n(38),s=n(0),i=n(40),u=n.n(i),l=n(3),b=n(106),p=n.n(b),j=n(9),m=n(113),h=(n(107),n(17)),f=n.n(h),d=n(24),O=n(19),_=n.n(O),v=n(11);_.a.defaults.baseURL="https://connections-api.herokuapp.com";var x=n(29),C=function(t){return t.phonebook.loading},k=function(t){return t.phonebook.items},g=function(t){return t.phonebook.filter},y=Object(x.a)([k,g],(function(t,e){var n=e.toLowerCase();return t.filter((function(t){return t.name.toLowerCase().includes(n)}))})),N=n(1),w=function(t){Object(c.a)(n,t);var e=Object(o.a)(n);function n(){var t;Object(a.a)(this,n);for(var r=arguments.length,c=new Array(r),o=0;o<r;o++)c[o]=arguments[o];return(t=e.call.apply(e,[this].concat(c))).state={name:"",number:""},t.inputHandler=function(e){var n=e.target,a=n.value,r=n.name;t.setState(Object(l.a)({},r,a))},t.SubmitHandler=function(e){e.preventDefault();var n=t.state,a=n.name,r=n.number,c=t.props.myContacts.some((function(t){return t.name===a})),o=t.props.myContacts.some((function(t){return t.number===r}));c?alert("".concat(a," is already in contacts!!!")):o?alert("".concat(r," is already in contacts!!!")):(t.props.createContact(a,r),t.setState({name:"",number:""}))},t}return Object(r.a)(n,[{key:"render",value:function(){var t=this.state,e=t.name,n=t.number;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("form",{className:p.a.form,onSubmit:this.submitHandler,children:[Object(N.jsxs)("label",{className:p.a.label,children:[" ","Name",Object(N.jsx)("input",{onChange:this.inputHandler,type:"text",name:"name",placeholder:"Add name",value:e,className:p.a.input,required:!0})]}),Object(N.jsxs)("label",{className:p.a.label,children:[" ","Number",Object(N.jsx)("input",{onChange:this.inputHandler,type:"tel",name:"number",placeholder:"111-11-11",pattern:"\\+?\\d{1,4}?[-.\\s]?\\(?\\d{1,3}?\\)?[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,4}[-.\\s]?\\d{1,9}",value:n,className:p.a.input,required:!0})]}),Object(N.jsx)("button",{className:p.a.button,type:"submit",children:"Add contact"})]}),Object(N.jsx)(m.a,{autoClose:3e3})]})}}]),n}(s.Component),F=Object(j.b)((function(t){return{myContacts:k(t)}}),(function(t){return{createContact:function(e,n){return t(function(t,e){return function(){var n=Object(d.a)(f.a.mark((function n(a){var r,c,o;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={name:t,number:e},a(Object(v.b)()),n.prev=2,n.next=5,_.a.post("/contacts",r);case 5:c=n.sent,o=c.data,a(Object(v.c)(o)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(2),a(Object(v.a)(n.t0.message));case 13:case"end":return n.stop()}}),n,null,[[2,10]])})));return function(t){return n.apply(this,arguments)}}()}(e,n))}}}))(w),S=n(108),H=n.n(S),L=Object(j.b)((function(t){return{contacts:y(t)}}),(function(t){return{deleteContact:function(e){return t(function(t){return function(){var e=Object(d.a)(f.a.mark((function e(n){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(Object(v.e)());try{_.a.delete("/contacts/".concat(t)),n(Object(v.f)(t))}catch(a){n(Object(v.a)(a.message))}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}(e))}}}))((function(t){var e=t.contacts,n=t.deleteContact;return Object(N.jsx)("div",{className:H.a.listSection,children:Object(N.jsx)("ul",{children:e.map((function(t){var e=t.id,a=t.name,r=t.number;return Object(N.jsxs)("li",{className:H.a.item,children:[a," - ",r,Object(N.jsx)("button",{className:H.a.button,type:"button",onClick:function(){return n(e)},children:"Delete"})]},e)}))})})})),P=n(109),A=n.n(P),D=Object(j.b)((function(t){return{filter:g(t)}}),(function(t){return{inputHandler:function(e){return t(Object(v.j)(e.target.value))}}}))((function(t){var e=t.filter,n=t.inputHandler;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsx)("h4",{className:A.a.title,children:"Find contacts by name "}),Object(N.jsx)("label",{className:A.a.label,children:Object(N.jsx)("input",{onChange:n,type:"text",name:"filter",placeholder:"Search name",value:e,className:A.a.input})})]})})),J=n(110),K=n.n(J),T=function(t){Object(c.a)(n,t);var e=Object(o.a)(n);function n(){return Object(a.a)(this,n),e.apply(this,arguments)}return Object(r.a)(n,[{key:"componentDidMount",value:function(){this.props.renderContacts()}},{key:"render",value:function(){var t=this.props.isLoading;return Object(N.jsxs)("div",{className:K.a.container,children:[Object(N.jsx)("h1",{className:K.a.phonebook,children:"PHONEBOOK"}),Object(N.jsx)(F,{}),Object(N.jsx)("h2",{className:K.a.contacts,children:"CONTACTS"}),Object(N.jsx)(D,{}),Object(N.jsx)(L,{}),t&&Object(N.jsx)(u.a,{type:"Watch",color:"#777",height:100,width:100})]})}}]),n}(s.Component),q=Object(j.b)((function(t){return{isLoading:C(t)}}),(function(t){return{renderContacts:function(){return t(function(){var t=Object(d.a)(f.a.mark((function t(e){var n,a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(Object(v.h)()),t.prev=1,t.next=4,_.a.get("/contacts");case 4:n=t.sent,a=n.data,e(Object(v.i)(a)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(Object(v.g)(t.t0.message));case 12:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}())}}}))(T)}}]);
//# sourceMappingURL=contacts-page.9d01d4cd.chunk.js.map